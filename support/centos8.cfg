Bootstrap: docker
From: centos:8

%post
    cd /etc/yum.repos.d/
    sed -i 's/mirrorlist/#mirrorlist/g' /etc/yum.repos.d/CentOS-*
    sed -i 's|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g' /etc/yum.repos.d/CentOS-*
    yum -y install dnf-plugins-core
    yum -y config-manager --set-enabled powertools
    yum -y install gcc gcc-c++ gcc-gfortran autoconf automake make \
        m4 bison flex libstdc++-static texinfo diffutils \
        libtool patch binutils unzip git subversion wget curl \
        libpng-devel openssl-devel libX11-devel bzip2-devel \
        ncurses-devel readline-devel libXext-devel libXi-devel \
        libXfixes-devel libXft-devel libXmu-devel libXpm-devel \
        libXrandr-devel libXt-devel freeglut-devel libffi-devel \
        file which python2 python2-devel bzip2 libxml2-devel ca-certificates \
        python3 python3-devel
    alternatives --set python /usr/bin/python2
